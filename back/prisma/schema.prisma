// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  user_email    String   @id @unique
  nickname      String
  password      String
  password_hint String
  age           Int?
  region        String?
  gender        String?
  profile_image String?
  introduce     String?
  ban           Boolean  @default(false)
  withdrawal    Boolean  @default(false)
  role          Role     @default(USER)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  Board         Board[]
  Challenge Challenge[]
}

model Board {
  id          String   @id @unique @default(uuid())
  user        User     @relation(fields: [user_email], references: [user_email])
  user_email  String
  title       String
  description String
  view        Int
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Challenge {
  id  Int @id @default(autoincrement())
  title String
  description String
  goal String
  start_date DateTime @db.DateTime(0)
  due_date DateTime @db.DateTime(0)
  author User @relation(fields: [proposer], references: [user_email])
  proposer String 
}

enum Role {
  USER
  ADMIN
}

model SeaLevelKorea {
  year      Int   @id
  sea_level Float @db.Float
}

model EmissionCO2 {
  year  Int    @id
  World BigInt @db.UnsignedBigInt
  USA   BigInt @db.UnsignedBigInt
  EU    BigInt @db.UnsignedBigInt
  China BigInt @db.UnsignedBigInt
  Korea BigInt @db.UnsignedBigInt
}

model Temperture {
  year  Int   @id
  World Float @db.Float
  USA   Float @db.Float
  EU    Float @db.Float
  China Float @db.Float
  Korea Float @db.Float
}